let collisions=(a,b)=>{return a.y+a.h<b.y||a.y>b.y+b.h||a.x>b.x+b.w||a.x+a.w<b.x?!1:!0},ballTravel=()=>{blc.x+=vbX,blc.y+=vbY},bouncingBall=()=>{(0>blc.x||992<blc.x)&&(!vbX&&0>blc.x&&(vbX=2),!vbX&&992<blc.x&&(vbX=-2),vbX*=-1),(0>blc.y||492<blc.y)&&(vbY*=-1)},ballOnTheBattlefront=()=>{1==launcher||(!!(blc.x>W)&&(blc.x=W-blc.w,vbY=-2),!!(blc.x<=-blc.w/2)&&(blc.x=0,vbY=-2))},ballManager=()=>{ballRotation(),ballTravel(),bouncingBall(),ballOnTheBattlefront()},stickTheBallOnTheShip=()=>{blc.y=ship.y-13,blc.x=ship.x+ship.w/2,vbX=0,vbY=0},ballLauncher=()=>{CANVAS.addEventListener("click",function(){startEvent&&!swtchInLvl&&(launcher=2)}),window.addEventListener("keypress",function(a){startEvent&&!swtchInLvl&&!(32!==a.keyCode)&&(a.preventDefault(),launcher=2)})},initialVector=()=>{0<=ship.x+ship.w/2&&200>=ship.x+ship.w/2&&(vbX=Math.round(-2*Math.random())-4,vbY=Math.round(-2*Math.random())-2),200<ship.x+ship.w/2&&400>=ship.x+ship.w/2&&(vbX=Math.round(-2*Math.random())-2,vbY=Math.round(-2*Math.random())-4),400<ship.x+ship.w/2&&600>=ship.x+ship.w/2&&(vbX=Math.round(Math.random()*(-1*Math.random())),vbY=Math.round(Math.random())+5),600<ship.x+ship.w/2&&800>=ship.x+ship.w/2&&(vbX=Math.round(2*Math.random())+2,vbY=Math.round(-2*Math.random())-4),800<=ship.x+ship.w/2&&1e3>=ship.x+ship.w/2&&(vbX=Math.round(2*Math.random())+4,vbY=Math.round(-2*Math.random())-2),launcher=0},launcherOnPhaseOne=()=>{1!==launcher||(stickTheBallOnTheShip(),ballLauncher())},launcherOnPhaseTwo=()=>2===launcher&&0===vbY&&0===vbX&&initialVector(),launcherSwitch=()=>{launcherOnPhaseOne(),launcherOnPhaseTwo()},gainPoint=()=>{startEvent&&!swtchInLvl&&(timePoint++,!(50!==timePoint)&&(score+=1,timePoint=0))},collisionEffect=a=>{collisions(a,blc)&&!inCollision&&(inCollision=!0,0<a.pv?boundSnd.play():(destroySnd.play(),score+=1e3),blc.y+blc.h/2>=a.y&&blc.y+blc.h/2<=a.y+a.h&&(blc.x<=a.x+a.w||blc.x+blc.w>=a.x)&&(vbX*=-1,score+=100,a.pv-=1),blc.x+blc.w/2>=a.x&&blc.x+blc.w/2<=a.x+a.w&&(blc.y<=a.y+a.h||blc.y+blc.h>=a.y)&&(vbY*=-1,score+=100,a.pv-=1)),collisions(a,blc)||(inCollision=!1)},packOfCollisionEffect=(a,b)=>{memoryLength=0;for(let c=0;c<a.length;c++)for(let d=0;d<a[c].length;d++)translateFunction("if(brk"+(1e3*b+(c+memoryLength))+".pv > 0){collisionEffect(brk"+(1e3*b+(c+memoryLength))+");}"),memoryLength++},leftShipCollision=()=>{blc.x+blc.w/2-1>=ship.x&&blc.x+blc.w/2-1<=ship.x+ship.w/5-1&&(0>vbX&&-6<vbX?vbX-=1:0<vbX&&6>vbX?vbX=-1*vbX-1:vbX=-2,!!(0<vbY)&&(4>vbY?vbY*=-1:vbY=-1*vbY+1))},middleLeftShipCollision=()=>{blc.x+blc.w/2-1>ship.x+ship.w/5-1&&blc.x+blc.w/2-1<=ship.x+(2*ship.w/5-1)&&(vbY*=-1,0>vbX?vbX*=1:0<vbX?vbX*=-1:vbX=-1)},middleShipCollision=()=>{2==launcher||blc.x+blc.w/2-1>ship.x+(2*ship.w/5-1)&&blc.x+blc.w/2-1<=ship.x+(3*ship.w/5-1)&&(0<vbX?vbX-=1:!!(0>vbX)&&(vbX+=1),6>vbY?vbY=-1*vbY-1:vbY*=-1)},middleRightShipCollision=()=>{blc.x+blc.w/2-1>ship.x+(3*ship.w/5-1)&&blc.x+blc.w/2-1<=ship.x+(4*ship.w/5-1)&&(vbY*=-1,0>vbX?vbX*=-1:0<vbX?vbX*=1:vbX=1)},rightShipCollision=()=>{blc.x+blc.w/2-1>ship.x+(4*ship.w/5-1)&&blc.x+blc.w/2-1<=ship.x+ship.w-1&&(0>vbX&&-6<vbX?vbX=-1*vbX+1:0<vbX&&6>vbX?vbX+=1:vbX=2,!!(0<vbY)&&(4>vbY?vbY*=-1:vbY=-1*vbY+1))},shipCollisionManager=()=>{!collisions(ship,blc)||(1!=launcher&&boundSnd.play(),leftShipCollision(),middleLeftShipCollision(),middleShipCollision(),middleRightShipCollision(),rightShipCollision())},looseLife=()=>{!(490<blc.y)||(deadSnd.play(),life-=1,stickTheBallOnTheShip(),launcher=1),launcherSwitch()},looseGame=()=>{!(0>=life)||(looseGameCount=!0,startEvent=!1)},winLevel=(a,b)=>{bricksCleared=!0,memoryLength=0;for(let c=0;c<a.length;c++)for(let d=0;d<a[c].length;d++)translateFunction("if(brk"+(1e3*b+(c+memoryLength))+".pv > 0){bricksCleared = false;}"),memoryLength++;return bricksCleared},passLevel=(a,b)=>{winLevel(a,b)&&!launchReady&&(launcher=1,launchReady=!0,setTimeout(function(){launcher=1,swtchInLvl=!0,swtchStoryScreen=!0,counterLevel++,launchReady=!1,!(3>life)||(life+=1),4!==counterLevel||(endGame=!0,endGameStory=!0)},4300))},levelMusic=a=>{!translateFunction("musicLevel"+a+".currentTime === 0")||translateFunction("musicLevel"+a+".play();"),!translateFunction("musicLevel"+a+".currentTime === musicLevel"+a+".duration;")||(translateFunction("musicLevel"+a+".pause();"),translateFunction("musicLevel"+a+".currentTime = 0;"))},winLevelMusicLauncher=(a,b)=>{!winLevel(a,b)||(translateFunction("musicLevel"+b+".pause();"),translateFunction("musicLevel"+b+".currenTime = 0;"),winLevelMusic.play())},storyLevelMusic=()=>{!swtchStoryScreen||(winLevelMusic.pause(),winLevelMusic.currentTime=0,storyMusic.play())},chapterMusic=()=>{!swtchlvlScreen||(storyMusic.pause(),storyMusic.currentTime=0)},interLevelMusicManager=()=>{storyLevelMusic(),chapterMusic()},endStoryLevelMusic=()=>{!endGameStory||(winLevelMusic.pause(),winLevelMusic.currentTime=0,storyMusic.play())},creditsMusic=()=>{!endGameCredits||(storyMusic.pause(),storyMusic.currentTime=0,endGameMusic.play())},endGameMusicManager=()=>{endStoryLevelMusic(),creditsMusic()},gameOverMusicManager=a=>{!looseGameCount||(translateFunction("musicLevel"+a+".pause();"),gameOverMusic.play(),!(gameOverMusic.currentTime!==gameOverMusic.duration)&&(gameOverMusic.currentTime=0,gameOverMusic.play()))};